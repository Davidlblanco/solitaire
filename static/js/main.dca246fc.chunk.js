(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(9),r=n.n(i),s=n(4),l=n(2),o=n(8),d=n(3),j=n(0);var u=function(e){var t=e.cardValue,n=e.hidden,c=e.parentId,a=e.cardDragged,i=e.indexHand,r=e.openCut,s=e.setFinal,l=e.openedLength,o={1:"\u2665\ufe0f",2:"\u2660\ufe0f",3:"\u2666\ufe0f",4:"\u2663\ufe0f"};function d(e){var t=e.split("-");switch(t[0]){case"1":t[0]="A";break;case"11":t[0]="J";break;case"12":t[0]="Q";break;case"13":t[0]="K"}return t[0]}return Object(j.jsx)("div",{style:{margin:"".concat(i,"px 0 0 ").concat(i,"px")},draggable:!n,onDragStart:function(e){a(e.target.childNodes[0].id)},className:"card \n                ".concat(n?"cut hidden":""," \n            ").concat(r?"cut":""," \n            ").concat("14"==d(t)?"invisible":""," \n            ").concat("none"===d(t)?"last ":""," \n            ").concat(1===l?"unique":" "," ").concat("fig"+t.split("-")[1],"\n            "),children:n?Object(j.jsx)("div",{}):Object(j.jsxs)("div",{onDoubleClick:function(e){var n=e.target;s(t,c,n.id.split("-")[3])},id:"col-".concat(c,"_card-").concat(t),style:{display:"block",height:"150px"},children:[d(t),Object(j.jsxs)("span",{children:[" ",o[t.split("-")[1]]]}),Object(j.jsxs)("span",{className:"figCenter",children:[" ",o[t.split("-")[1]]]})]})})};var f=function(e){var t=e.closed,n=e.opened,c=e.id,a=e.handleColMove,i=e.final,r=e.setFinal;function s(e){a({card:e})}return Object(j.jsxs)("div",{id:c,draggable:!0,onDrop:function(e){e.preventDefault(),a({col:e.target.id})},onDragOver:function(e){e.preventDefault()},className:"col",children:[t&&t.map((function(e,t){return Object(j.jsx)(u,{cardValue:e,hidden:!0,draggable:!1,final:i},t)})),n&&n.map((function(e,t){return Object(j.jsx)(u,{parentId:c,id:e,cardValue:e,hidden:!1,cardDragged:s,openCut:n.length-1!==t,final:i,setFinal:r,openedLength:n.length},t)}))]})},b=(n(15),n.p+"static/media/logo.a1e87f0e.png");var O=function(e){var t=e.hand,n=e.handleHandMove,a=e.final,i=e.setFinal,r=Object(c.useState)(-1),s=Object(d.a)(r,2),l=s[0],o=s[1];function f(e){n({card:e})}return Object(c.useEffect)((function(){l>1&&o(l-1)}),[t]),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"cardBox",children:[Object(j.jsx)("div",{onClick:function(){l<t.length-1?o(l+1):o(-1)},className:"closedBox",children:t.map((function(e,t){return t>=l+1?Object(j.jsx)(u,{parentId:"hand",cardValue:e,hidden:!0,indexHand:0!==t&&t-l},t):Object(j.jsx)(u,{parentId:"hand",cardValue:"none",hidden:!0},t)}))}),Object(j.jsx)("div",{className:"openedBox",onDrop:function(e){e.preventDefault(),n({col:e.target.id})},onDragOver:function(e){e.preventDefault()},children:t.map((function(e,t){return t<=l&&Object(j.jsx)(u,{parentId:"hand",cardValue:e,indexHand:t,cardDragged:f,final:a,setFinal:i},t)}))})]})})};var h=function(e){var t=e.final;return t.length>0?Object(j.jsx)(u,{cardValue:t[t.length-1]}):Object(j.jsx)("div",{})};function g(e,t){var n=Object(c.useRef)(null);return function(){for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];window.clearTimeout(n.current),n.current=window.setTimeout((function(){e.apply(void 0,a)}),t)}}var p=n.p+"static/media/win.685cc339.png";var v=function(){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{class:"pyro",children:[Object(j.jsx)("div",{class:"before"}),Object(j.jsx)("div",{class:"after"})]}),Object(j.jsxs)("div",{className:"pulse",children:[Object(j.jsx)("img",{src:p,alt:"win image"}),Object(j.jsx)("h1",{children:"You Win!"})]})]})};var x=function(){var e=["1-1","2-1","3-1","4-1","5-1","6-1","7-1","8-1","9-1","10-1","11-1","12-1","13-1","1-2","2-2","3-2","4-2","5-2","6-2","7-2","8-2","9-2","10-2","11-2","12-2","13-2","1-3","2-3","3-3","4-3","5-3","6-3","7-3","8-3","9-3","10-3","11-3","12-3","13-3","1-4","2-4","3-4","4-4","5-4","6-4","7-4","8-4","9-4","10-4","11-4","12-4","13-4"],t=Object(c.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)({}),u=Object(d.a)(r,2),p=u[0],x=u[1],m=Object(c.useState)({}),S=Object(d.a)(m,2),N=S[0],I=S[1],y=Object(c.useState)([]),D=Object(d.a)(y,2),k=D[0],C=D[1],F=Object(c.useState)({}),w=Object(d.a)(F,2),E=w[0],J=w[1],M=Object(c.useState)(!1),V=Object(d.a)(M,2),B=V[0],H=V[1],L=Object(c.useState)(0),T=Object(d.a)(L,2),A=T[0],P=T[1];void 0===localStorage.solitaire&&(localStorage.setItem("counter",JSON.stringify("0")),K()),Object(c.useEffect)((function(){var e=JSON.parse(localStorage.solitaire),t=void 0===p[1]&&void 0===N[1]&&0===k.length&&void 0===E[1];localStorage.solitaire&&t?(x(e.closed),I(e.opened),C(e.hand),J(e.final)):i(!0),0===e.hand.length&&0===A&&i(!0);var n=JSON.parse(localStorage.counter);localStorage.counter&&"0"!=n&&P(n)}),[]),Object(c.useEffect)((function(){E[1]&&(52===E[1].length+E[2].length+E[3].length+E[4].length&&H(!0))}),[E]);var q=g((function(){P(A+1),localStorage.setItem("counter",JSON.stringify(A))}),500);function K(){var e={closed:p,opened:N,hand:k,final:E};localStorage.setItem("solitaire",JSON.stringify(e))}var Q=g(K,500);Object(c.useEffect)((function(){Q(),q()}),[p,N,k,E]),Object(c.useEffect)((function(){if(a){for(var t,n,c=e.length;0!==c;)n=Math.floor(Math.random()*c),t=e[c-=1],e[c]=e[n],e[n]=t;x({1:e.slice(0,6),2:e.slice(7,12),3:e.slice(13,17),4:e.slice(18,21),5:e.slice(22,24),6:e.slice(25,26)}),I({1:e.slice(6,7),2:e.slice(12,13),3:e.slice(17,18),4:e.slice(21,22),5:e.slice(24,25),6:e.slice(26,27),7:e.slice(27,28)}),C(e.slice(28,52)),J({1:[],2:[],3:[],4:[]}),H(!1),P(-1),localStorage.setItem("counter",JSON.stringify("0")),i(!1);var r={closed:p,opened:N,hand:k,final:E};localStorage.setItem("solitaire",JSON.stringify(r))}}),[a]);var R=Object(c.useState)(""),W=Object(d.a)(R,2),Y=W[0],_=W[1],z=Object(c.useState)(""),G=Object(d.a)(z,2),U=G[0],X=G[1];function Z(e){var t=e.card,n=e.col;t&&_(t),n&&X(n)}function $(e,t,n){if(("hand"===t||N[t][N[t].length-1]===e)&&E[n].length+1===parseInt(e.split("-")[0])){if("hand"!==t){var c=N[t].filter((function(t){return t!==e}));I(Object(l.a)(Object(l.a)({},N),{},Object(s.a)({},t,c)))}else{var a=k.filter((function(t){return t!==e}));C(a)}var i=E[n];i.push(e),J(Object(l.a)(Object(l.a)({},E),{},Object(s.a)({},n,i)))}}return Object(c.useEffect)((function(){var e=U.substring(4,5);if(N[e]&&Y!==U&&U.length>0){var t=Y.substring(4,5),n=N[e][N[e].length-1],c=parseInt(n.split("-")[1])%2===0&&!(parseInt(Y.split("-")[3])%2===0)||!(parseInt(n.split("-")[1])%2===0)&&parseInt(Y.split("-")[3])%2===0||0===parseInt(n.split("-")[1]),a=parseInt(n.split("-")[0])-1===parseInt(Y.split("-")[2]);if(c&&a){var i,r=[],d=Y.indexOf("hand")>-1?k.indexOf(Y.split("card-")[1]):N[t].indexOf(Y.split("card-")[1]),j=Object(o.a)(N[e]),u=Y.indexOf("hand")>-1?k:N[t];if(u.forEach((function(e,n){n<d&&u===N[t]||n!==d&&u===k?r.push(e):j=[].concat(Object(o.a)(j),[e])})),u===N[t])I(Object(l.a)(Object(l.a)({},N),{},(i={},Object(s.a)(i,t,r),Object(s.a)(i,e,j),i)));else u===k&&(I(Object(l.a)(Object(l.a)({},N),{},Object(s.a)({},e,j))),C(r))}_(""),X("")}}),[Y,U]),Object(c.useEffect)((function(){Object.keys(N).forEach((function(e,t){if(e<7&&0===N[e].length&&p[e].length>0){var n=p[e].filter((function(t,n){return n!==p[e].length-1})),c=p[e].filter((function(t,n){return n===p[e].length-1}));x(Object(l.a)(Object(l.a)({},p),{},Object(s.a)({},e,n))),I(Object(l.a)(Object(l.a)({},N),{},Object(s.a)({},e,c)))}0!==N[e].length||void 0!==p[e]&&0!==p[e].length||I(Object(l.a)(Object(l.a)({},N),{},Object(s.a)({},e,["14-0"])))}))}),[N,p]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{className:"center",children:[Object(j.jsx)("img",{className:"logo",src:b}),Object(j.jsx)("button",{onClick:function(){return i(!0)},children:"Shuffle | Start"})]}),Object(j.jsxs)("header",{children:[Object(j.jsx)(O,{hand:k,handleHandMove:Z,final:E,setFinal:$}),Object(j.jsxs)("div",{className:"center",children:[Object(j.jsx)("img",{className:"logo",src:b}),Object(j.jsx)("button",{onClick:function(){return i(!0)},children:"Shuffle | Start"})]}),Object(j.jsx)("div",{className:"finalcols",children:Object.keys(E).map((function(e,t){return Object(j.jsx)(h,{final:E[t+1]},e)}))})]}),Object(j.jsx)("div",{className:"gameContainer",children:Object.keys(N).map((function(e,t){return Object(j.jsx)(f,{id:e,opened:N[e],handleColMove:Z,closed:p[e],final:E,setFinal:$},e)}))}),B&&Object(j.jsx)(v,{}),Object(j.jsx)("div",{className:"counter",children:A>-1?A:"0"})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.dca246fc.chunk.js.map