(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(9),r=n.n(i),s=n(3),l=n(2),o=n(8),d=n(4),j=n(0);var u=function(e){var t=e.cardValue,n=e.hidden,c=e.parentId,a=e.cardDragged,i=e.indexHand,r=e.openCut,s=e.setFinal,l=e.openedLength,o={1:"\u2665\ufe0f",2:"\u2660\ufe0f",3:"\u2666\ufe0f",4:"\u2663\ufe0f"};function d(e){var t=e.split("-");switch(t[0]){case"1":t[0]="A";break;case"11":t[0]="J";break;case"12":t[0]="Q";break;case"13":t[0]="K"}return t[0]}return Object(j.jsx)("div",{style:{margin:"".concat(i,"px 0 0 ").concat(i,"px")},draggable:!n,onDragStart:function(e){a(e.target.childNodes[0].id)},className:"card \n                ".concat(n?"cut hidden":""," \n            ").concat(r?"cut":""," \n            ").concat("14"==d(t)?"invisible":""," \n            ").concat("none"===d(t)?"last ":""," \n            ").concat(1===l?"unique":" "," ").concat("fig"+t.split("-")[1],"\n            "),children:n?Object(j.jsx)("div",{}):Object(j.jsxs)("div",{onDoubleClick:function(e){var n=e.target;s(t,c,n.id.split("-")[3])},id:"col-".concat(c,"_card-").concat(t),style:{display:"block",height:"150px"},children:[d(t),Object(j.jsxs)("span",{children:[" ",o[t.split("-")[1]]]}),Object(j.jsxs)("span",{className:"figCenter",children:[" ",o[t.split("-")[1]]]})]})})};var f=function(e){var t=e.closed,n=e.opened,c=e.id,a=e.handleColMove,i=e.final,r=e.setFinal;function s(e){a({card:e})}return Object(j.jsxs)("div",{id:c,draggable:!0,onDrop:function(e){e.preventDefault(),a({col:e.target.id})},onDragOver:function(e){e.preventDefault()},className:"col",children:[t&&t.map((function(e,t){return Object(j.jsx)(u,{cardValue:e,hidden:!0,draggable:!1,final:i},t)})),n&&n.map((function(e,t){return Object(j.jsx)(u,{parentId:c,id:e,cardValue:e,hidden:!1,cardDragged:s,openCut:n.length-1!==t,final:i,setFinal:r,openedLength:n.length},t)}))]})},b=(n(15),n.p+"static/media/logo.a1e87f0e.png");var O=function(e){var t=e.hand,n=e.handleHandMove,a=e.final,i=e.setFinal,r=Object(c.useState)(-1),s=Object(d.a)(r,2),l=s[0],o=s[1];function f(e){n({card:e})}return Object(c.useEffect)((function(){l>1&&o(l-1)}),[t]),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"cardBox",children:[Object(j.jsx)("div",{onClick:function(){l<t.length-1?o(l+1):o(-1)},className:"closedBox",children:t.map((function(e,t){return t>=l+1?Object(j.jsx)(u,{parentId:"hand",cardValue:e,hidden:!0,indexHand:0!==t&&t-l},t):Object(j.jsx)(u,{parentId:"hand",cardValue:"none",hidden:!0},t)}))}),Object(j.jsx)("div",{className:"openedBox",onDrop:function(e){e.preventDefault(),n({col:e.target.id})},onDragOver:function(e){e.preventDefault()},children:t.map((function(e,t){return t<=l&&Object(j.jsx)(u,{parentId:"hand",cardValue:e,indexHand:t,cardDragged:f,final:a,setFinal:i},t)}))})]})})};var h=function(e){var t=e.final;return t.length>0?Object(j.jsx)(u,{cardValue:t[t.length-1]}):Object(j.jsx)("div",{})};function g(e,t){var n=Object(c.useRef)(null);return function(){for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];window.clearTimeout(n.current),n.current=window.setTimeout((function(){e.apply(void 0,a)}),t)}}var p=n.p+"static/media/win.685cc339.png";var v=function(){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{class:"pyro",children:[Object(j.jsx)("div",{class:"before"}),Object(j.jsx)("div",{class:"after"})]}),Object(j.jsxs)("div",{className:"pulse",children:[Object(j.jsx)("img",{src:p,alt:"win image"}),Object(j.jsx)("h1",{children:"You Win!"})]})]})};var x=function(){var e=["1-1","2-1","3-1","4-1","5-1","6-1","7-1","8-1","9-1","10-1","11-1","12-1","13-1","1-2","2-2","3-2","4-2","5-2","6-2","7-2","8-2","9-2","10-2","11-2","12-2","13-2","1-3","2-3","3-3","4-3","5-3","6-3","7-3","8-3","9-3","10-3","11-3","12-3","13-3","1-4","2-4","3-4","4-4","5-4","6-4","7-4","8-4","9-4","10-4","11-4","12-4","13-4"],t=Object(c.useState)({}),n=Object(d.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)({}),u=Object(d.a)(r,2),p=u[0],x=u[1],m=Object(c.useState)([]),S=Object(d.a)(m,2),N=S[0],I=S[1],D=Object(c.useState)({}),k=Object(d.a)(D,2),y=k[0],C=k[1],F=Object(c.useState)(!1),w=Object(d.a)(F,2),E=w[0],J=w[1],M=Object(c.useState)(-1),V=Object(d.a)(M,2),B=V[0],H=V[1],L=g((function(){H(B+1),localStorage.setItem("counter",JSON.stringify(B))}),500);Object(c.useEffect)((function(){L()}),[a,p,N,y]),Object(c.useEffect)((function(){y[1]&&(52===y[1].length+y[2].length+y[3].length+y[4].length&&J(!0))}),[y]),Object(c.useEffect)((function(){var e=JSON.parse(localStorage.solitaire);localStorage.solitaire&&e.hand.length>0?(i(e.closed),x(e.opened),I(e.hand),C(e.final)):A();var t=JSON.parse(localStorage.counter);localStorage.counter&&"0"!=t&&H(t)}),[]);var T=g((function(){var e={closed:a,opened:p,hand:N,final:y};localStorage.setItem("solitaire",JSON.stringify(e))}),1e3);function A(){for(var t,n,c=e.length;0!==c;)n=Math.floor(Math.random()*c),t=e[c-=1],e[c]=e[n],e[n]=t;i({1:e.slice(0,6),2:e.slice(7,12),3:e.slice(13,17),4:e.slice(18,21),5:e.slice(22,24),6:e.slice(25,26)}),x({1:e.slice(6,7),2:e.slice(12,13),3:e.slice(17,18),4:e.slice(21,22),5:e.slice(24,25),6:e.slice(26,27),7:e.slice(27,28)}),I(e.slice(28,52)),C({1:[],2:[],3:[],4:[]}),J(!1),H(0),localStorage.setItem("counter",JSON.stringify("0"))}Object(c.useEffect)((function(){T()}),[a,p,N,y]);var P=Object(c.useState)(""),q=Object(d.a)(P,2),K=q[0],Q=q[1],R=Object(c.useState)(""),W=Object(d.a)(R,2),Y=W[0],_=W[1];function z(e){var t=e.card,n=e.col;t&&Q(t),n&&_(n)}function G(e,t,n){if(("hand"===t||p[t][p[t].length-1]===e)&&y[n].length+1===parseInt(e.split("-")[0])){if("hand"!==t){var c=p[t].filter((function(t){return t!==e}));x(Object(l.a)(Object(l.a)({},p),{},Object(s.a)({},t,c)))}else{var a=N.filter((function(t){return t!==e}));I(a)}var i=y[n];i.push(e),C(Object(l.a)(Object(l.a)({},y),{},Object(s.a)({},n,i)))}}return Object(c.useEffect)((function(){var e=Y.substring(4,5);if(p[e]&&K!==Y&&Y.length>0){var t=K.substring(4,5),n=p[e][p[e].length-1],c=parseInt(n.split("-")[1])%2===0&&!(parseInt(K.split("-")[3])%2===0)||!(parseInt(n.split("-")[1])%2===0)&&parseInt(K.split("-")[3])%2===0||0===parseInt(n.split("-")[1]),a=parseInt(n.split("-")[0])-1===parseInt(K.split("-")[2]);if(c&&a){var i,r=[],d=K.indexOf("hand")>-1?N.indexOf(K.split("card-")[1]):p[t].indexOf(K.split("card-")[1]),j=Object(o.a)(p[e]),u=K.indexOf("hand")>-1?N:p[t];if(u.forEach((function(e,n){n<d&&u===p[t]||n!==d&&u===N?r.push(e):j=[].concat(Object(o.a)(j),[e])})),u===p[t])x(Object(l.a)(Object(l.a)({},p),{},(i={},Object(s.a)(i,t,r),Object(s.a)(i,e,j),i)));else u===N&&(x(Object(l.a)(Object(l.a)({},p),{},Object(s.a)({},e,j))),I(r))}Q(""),_("")}}),[K,Y]),Object(c.useEffect)((function(){Object.keys(p).forEach((function(e,t){if(e<7&&0===p[e].length&&a[e].length>0){var n=a[e].filter((function(t,n){return n!==a[e].length-1})),c=a[e].filter((function(t,n){return n===a[e].length-1}));i(Object(l.a)(Object(l.a)({},a),{},Object(s.a)({},e,n))),x(Object(l.a)(Object(l.a)({},p),{},Object(s.a)({},e,c)))}0!==p[e].length||void 0!==a[e]&&0!==a[e].length||x(Object(l.a)(Object(l.a)({},p),{},Object(s.a)({},e,["14-0"])))}))}),[p,a]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{className:"center",children:[Object(j.jsx)("img",{className:"logo",src:b}),Object(j.jsx)("button",{onClick:function(){return A()},children:"Shuffle | Start"})]}),Object(j.jsxs)("header",{children:[Object(j.jsx)(O,{hand:N,handleHandMove:z,final:y,setFinal:G}),Object(j.jsxs)("div",{className:"center",children:[Object(j.jsx)("img",{className:"logo",src:b}),Object(j.jsx)("button",{onClick:function(){return A()},children:"Shuffle | Start"})]}),Object(j.jsx)("div",{className:"finalcols",children:Object.keys(y).map((function(e,t){return Object(j.jsx)(h,{final:y[t+1]},e)}))})]}),Object(j.jsx)("div",{className:"gameContainer",children:Object.keys(p).map((function(e,t){return Object(j.jsx)(f,{id:e,opened:p[e],handleColMove:z,closed:a[e],final:y,setFinal:G},e)}))}),E&&Object(j.jsx)(v,{}),Object(j.jsx)("div",{className:"counter",children:B>-1?B:"0"})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.e5c97d91.chunk.js.map